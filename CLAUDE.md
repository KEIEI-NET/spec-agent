# CLAUDE.md

このファイルは、このリポジトリでClaude Code (claude.ai/code)が作業する際のガイダンスを提供します。

## プロジェクト概要

Spec Agent Systemは、複数の専門AIエージェントを使用した日本語仕様書生成フレームワークです。6つの専門エージェントが協調して、構造化されたワークフローで包括的なソフトウェア仕様書を作成します。

## コマンド

### インストールとセットアップ
```bash
# エージェントシステムのインストール (Python 3.x必須)
python install.py

# 代替インストール方法
./install.sh   # Linux/macOS
install.bat    # Windows

# アンインストール
python uninstall.py
```

### エージェントの呼び出し
```bash
# 新しいプロジェクトを開始
@spec-master-agent プロジェクトを初期化してください

# 要求分析
@requirement-analyst-agent 要求を分析してください

# システムアーキテクチャ設計
@system-architect-agent アーキテクチャを設計してください

# 実装仕様
@implementation-spec-agent 実装仕様を作成してください

# ドキュメント整形
@technical-writer-agent ドキュメントを整形してください

# 品質レビュー
@qa-reviewer-agent 仕様書をレビューしてください
```

## アーキテクチャ

### エージェントシステム
- **6つの専門エージェント**: 各エージェントが仕様作成の特定フェーズを担当
- **連携ルール**: `coordination_rules.yaml`でワークフロー管理を定義
- **進捗追跡**: `progress.md`と`todo.md`で管理

### ワークフローフェーズ
1. **要求分析** - 機能要求・非機能要求の収集
2. **システム設計** - アーキテクチャとデータモデルの作成
3. **実装仕様** - API、モジュール、標準の定義
4. **ドキュメント整形** - フォーマットと一貫性の確保
5. **品質レビュー** - 完全性と正確性の検証

### 出力構造
```
specifications/
├── requirement_spec.md     # 要求仕様書
├── architecture_design.md  # システムアーキテクチャ
├── data_model.md          # データベース設計
├── implementation_spec.md  # 実装詳細
├── api_spec.md            # API仕様
├── test_spec.md           # テスト仕様
├── coding_standards.md    # コーディング規約
└── review_report.md       # 品質レビュー結果
```

## 主要ガイドライン

### 言語規約
- **ドキュメント**: 全仕様書は日本語
- **コードコメント**: 国際互換性のため英語
- **ユーザー対話**: 日本語優先、英語サポート
- **エラーメッセージ**: バイリンガル（日本語主、英語副）

### エージェント通信プロトコル
- エージェントは構造化されたマークダウンファイルで通信
- 各エージェントは処理前に入力を検証
- 出力はエージェント定義ファイルの事前定義スキーマに準拠
- 追跡には`progress.md`、タスク管理には`todo.md`を使用

### 開発プラクティス
- **アトミック操作**: 各エージェントアクションは自己完結的
- **検証**: 入出力を常に検証
- **進捗追跡**: progress.mdとtodo.mdを継続的に更新
- **エラー回復**: エラーをprogress.mdに記録し、グレースフルリカバリを試行

## クイックリファレンス

### 新規プロジェクトの開始
1. `@spec-master-agent`で初期化
2. プロジェクト概要と制約を提供
3. エージェントのプロンプトに従って要求を入力
4. `specifications/`ディレクトリで生成された仕様書を確認

### よく使うタスク
```bash
# 完全な仕様書生成
@spec-master-agent ECサイトの仕様書を作成

# 部分的な更新
@requirement-analyst-agent 新機能の要求を追加

# 品質チェック
@qa-reviewer-agent 全仕様書の整合性をチェック
```

### 統合ポイント
- **バージョン管理**: フェーズ完了後に自動コミット
- **CI/CD**: 仕様更新時にレビューをトリガー
- **プロジェクト管理**: todo.mdを課題トラッカーと同期